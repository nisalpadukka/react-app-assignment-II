{"ast":null,"code":"import { over } from 'stompjs';\nimport SockJS from 'sockjs-client';\nimport { pushToPost } from '../pages/homepage/Homepage';\nconst baseUrl = process.env.REACT_APP_API_BASE_URL;\nvar stompClient;\nexport const connect = () => {\n  console.log(\"Connecting\");\n  let Sock = new SockJS(baseUrl + '/websocket');\n  stompClient = over(Sock);\n  stompClient.connect({}, onConnected, onError);\n};\n\nconst onConnected = () => {\n  console.log(\"Connected\");\n};\n\nconst onError = () => {\n  console.log(\"Error\");\n};\n\nexport function subscribeToTopic(topic, func) {\n  stompClient.subscribe('/topic/' + topic, func);\n}\n/*\nexport function subscribeToTopic(topic, func) {\n\n    stompClient.subscribe('/topic/' + topic, function (msg) {\n\n        var dataObj = JSON.parse(JSON.parse(msg.body).data);\n        console.log(dataObj);\n        pushToPost(dataObj);\n      });\n\n}\n*/\n\nexport function unSubscribeFromTopic(topic) {\n  stompClient.unsubscribe('/topic/' + topic, function (msg) {\n    console.log(\"Unsubsribed fron topic \" + msg);\n  });\n}","map":{"version":3,"names":["over","SockJS","pushToPost","baseUrl","process","env","REACT_APP_API_BASE_URL","stompClient","connect","console","log","Sock","onConnected","onError","subscribeToTopic","topic","func","subscribe","unSubscribeFromTopic","unsubscribe","msg"],"sources":["/Users/nisalpadukka/Desktop/ZeroBeta/Blog App Artificats/farmington/src/components/socket.jsx"],"sourcesContent":["import {over} from 'stompjs';\nimport SockJS from 'sockjs-client';\nimport {pushToPost} from '../pages/homepage/Homepage';\n\n\nconst baseUrl = process.env.REACT_APP_API_BASE_URL;\n\nvar stompClient;\n\nexport const connect =()=>{\n\n    console.log(\"Connecting\");\n    let Sock = new SockJS(baseUrl + '/websocket');\n    stompClient = over(Sock);\n    stompClient.connect({}, onConnected, onError);\n  }\n  \n\nconst onConnected = () => {\n    console.log(\"Connected\");\n}\n  \nconst onError = () => {\n    console.log(\"Error\");\n}\n\nexport function subscribeToTopic(topic, func) {\n\n    stompClient.subscribe('/topic/' + topic, func)\n}\n\n/*\nexport function subscribeToTopic(topic, func) {\n\n    stompClient.subscribe('/topic/' + topic, function (msg) {\n\n        var dataObj = JSON.parse(JSON.parse(msg.body).data);\n        console.log(dataObj);\n        pushToPost(dataObj);\n      });\n\n}\n*/\n\nexport function unSubscribeFromTopic(topic) {\n\n    stompClient.unsubscribe('/topic/' + topic, function (msg) {\n        console.log(\"Unsubsribed fron topic \" + msg);\n      });\n\n}\n"],"mappings":"AAAA,SAAQA,IAAR,QAAmB,SAAnB;AACA,OAAOC,MAAP,MAAmB,eAAnB;AACA,SAAQC,UAAR,QAAyB,4BAAzB;AAGA,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAR,CAAYC,sBAA5B;AAEA,IAAIC,WAAJ;AAEA,OAAO,MAAMC,OAAO,GAAE,MAAI;EAEtBC,OAAO,CAACC,GAAR,CAAY,YAAZ;EACA,IAAIC,IAAI,GAAG,IAAIV,MAAJ,CAAWE,OAAO,GAAG,YAArB,CAAX;EACAI,WAAW,GAAGP,IAAI,CAACW,IAAD,CAAlB;EACAJ,WAAW,CAACC,OAAZ,CAAoB,EAApB,EAAwBI,WAAxB,EAAqCC,OAArC;AACD,CANI;;AASP,MAAMD,WAAW,GAAG,MAAM;EACtBH,OAAO,CAACC,GAAR,CAAY,WAAZ;AACH,CAFD;;AAIA,MAAMG,OAAO,GAAG,MAAM;EAClBJ,OAAO,CAACC,GAAR,CAAY,OAAZ;AACH,CAFD;;AAIA,OAAO,SAASI,gBAAT,CAA0BC,KAA1B,EAAiCC,IAAjC,EAAuC;EAE1CT,WAAW,CAACU,SAAZ,CAAsB,YAAYF,KAAlC,EAAyCC,IAAzC;AACH;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,SAASE,oBAAT,CAA8BH,KAA9B,EAAqC;EAExCR,WAAW,CAACY,WAAZ,CAAwB,YAAYJ,KAApC,EAA2C,UAAUK,GAAV,EAAe;IACtDX,OAAO,CAACC,GAAR,CAAY,4BAA4BU,GAAxC;EACD,CAFH;AAIH"},"metadata":{},"sourceType":"module"}